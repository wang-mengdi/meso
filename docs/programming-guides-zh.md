# 编程规范

## 工作流程
- 原则上任何可以测试的代码都应该写一个测试，例如`_tests_reservoir`和`_tests_solver`中的那样。测试应该有一个确定的“通过/不通过”标准，通过用`Pass()`函数输出，失败用`Error()`函数输出。原则上不应让用户自己判断测试是否通过。

## 文件结构设计

- 遵循`README.md`中的文件结构，把代码文件放在合适的目录下。如确有需要创建新目录，可讨论决定。
- 目前暂时将代码库设计为header-only，不在`.cpp`或`.cu`中实例化模板类，因当前阶段整个代码库仍然会频繁变动，这么做可以降低编译开销。后续做法再行讨论。

## 内容拆分
- 函数和类的区分标准：如果一个功能可能是若干与之并列的姐妹功能当中的一种，可能会被模块化替换（注：只需要认为有可能，当前代码中不需要存在），则优先将其设计为一个类。例如`SemiLagrangian`应当是一个类，因为虽然它只有静态成员函数，但可以预想到，将来可能会存在与之并列的多种对流格式，这样写成类的方式，便于用模板的方法进行传输。而相反，如果这个功能独特到不可能有与之并列的姐妹功能，则优先将其设计为一个外接函数（例如，`GridEulerFunc.h`里面的功能均为函数，以及`Marching_Cubes`为一个函数）。

## 内存访问
- 一切默认行为均为深拷贝，仅在完全明确的情况下提供无歧义的浅拷贝接口。

## 命名规则
- 类用首字母大写，无下划线，如`FaceField`
- 函数用首字母大写+下划线，如`Face_Center()`
- enum关键字全大写，但enum类型作为一个类使用首字母大写，如`DataHolder DEVICE`